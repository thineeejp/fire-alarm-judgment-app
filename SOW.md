ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸUIã«ã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªæ”¹å–„æ¡ˆã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚

1.  **ãƒ–ãƒ­ãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³**: å·¦å´ã®å¤ªç·šã‚’ãªãã—ã€ã‚ˆã‚Šãƒ¢ãƒ€ãƒ³ã§ã‚¯ãƒªãƒ¼ãƒ³ãªã‚«ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã«å¤‰æ›´ã—ã¾ã™ã€‚
2.  **å·æ•°ã‚¿ã‚°**: ã€Œ1å·ã€ã€Œ3å·ã€ãªã©ã‚’ã€è¦–èªæ€§ã®é«˜ã„ã‚¿ã‚°å½¢å¼ã§è¡¨ç¤ºã—ã¾ã™ã€‚
3.  **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£**: ã€Œå»ºç‰©å…¨ä½“ã€ã‚¿ã‚°ã‚’ã€Œè¨­ç½®ç¯„å›²ã€ã‚¿ã‚¤ãƒˆãƒ«ã®ä¸‹ã«æ­£ã—ãé…ç½®ã—ã€ã‚¢ã‚¤ã‚³ãƒ³ã®æ–‡å­—åŒ–ã‘ã‚’ä¿®æ­£ã—ã¾ã™ã€‚
4.  **ç®‡æ¡æ›¸ãä¿®æ­£**: äºŒé‡ã«ãªã£ã¦ã„ãŸç®‡æ¡æ›¸ãã®ãƒãƒ¼ã‚«ãƒ¼ã‚’ä¿®æ­£ã—ã¾ã™ã€‚

### å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆæ”¹å–„å¾Œï¼‰

ã“ã¡ã‚‰ãŒä¿®æ­£å¾Œã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚ã”æŒ‡æ‘˜ã®ç‚¹ãŒã™ã¹ã¦è§£æ¶ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

<div class="result-card warning" style="background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%); color: #ff8f00; border: 1px solid #ffe082; border-radius: 12px; padding: 16px; font-family: sans-serif;">
    <div style="display: flex; align-items: center; gap: 8px; font-size: 16px; font-weight: 500; margin-bottom: 8px;">
        <span>âš ï¸</span>
        <span>è‡ªå‹•ç«ç½å ±çŸ¥è¨­å‚™ã®è¨­ç½®ç¾©å‹™</span>
    </div>
    <div style="font-size: 14px; margin-bottom: 16px;">è¨­ç½®ç¾©å‹™ã‚ã‚Š</div>
    <div class="result-details" style="display: flex; flex-direction: column; gap: 12px;">
        <!-- æ³•çš„æ ¹æ‹ ãƒ–ãƒ­ãƒƒã‚¯ -->
        <div class="result-block" style="background-color: rgba(255,255,255,0.6); padding: 12px; border-radius: 8px;">
            <h4 style="margin: 0 0 8px; font-size: 14px; color: #616161; font-weight: 500; display: flex; align-items: center; gap: 8px;"><span class="material-icons" style="font-size: 18px;">gavel</span>æ³•çš„æ ¹æ‹ </h4>
            <p style="margin: 0; font-size: 14px; line-height: 1.5;">ã“ã®å»ºç‰©ã¯æ¶ˆé˜²æ³•æ–½è¡Œä»¤ç¬¬21æ¡ã«ã‚ˆã‚Šè‡ªå‹•ç«ç½å ±çŸ¥è¨­å‚™ã®è¨­ç½®ç¾©å‹™ãŒã‚ã‚Šã¾ã™ã€‚</p>
            <div style="margin-top: 8px; display: flex; flex-wrap: wrap; gap: 6px;">
                <span style="background-color: #d6e3ee; color: #34485e; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: 500;">1å·</span>
                <span style="background-color: #d6e3ee; color: #34485e; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: 500;">3å·</span>
            </div>
        </div>
        <!-- è¨­ç½®ç¯„å›²ãƒ–ãƒ­ãƒƒã‚¯ -->
        <div class="result-block" style="background-color: rgba(255,255,255,0.6); padding: 12px; border-radius: 8px;">
            <h4 style="margin: 0 0 8px; font-size: 14px; color: #616161; font-weight: 500; display: flex; align-items: center; gap: 8px;"><span class="material-icons" style="font-size: 18px;">layers</span>è¨­ç½®ç¯„å›²</h4>
            <div style="display: inline-flex; align-items: center; gap: 4px; background-color: #ffe082; color: #ff6f00; padding: 4px 10px; border-radius: 16px; font-size: 14px; font-weight: 500; border: 1px solid #ffd54f;">
                <span>ğŸ¢</span>
                <span>å»ºç‰©å…¨ä½“</span>
            </div>
            <ul style="margin: 8px 0 0; padding-left: 20px; font-size: 14px; line-height: 1.5;">
                <li>å»ºç‰©å…¨ä½“ã«è¨­ç½®ç¾©å‹™ãŒã‚ã‚Šã¾ã™ï¼ˆ3å·ï¼‰ã€‚</li>
                <li>(5)é …ã‚¤ éƒ¨åˆ†ã«ã‚‚è¨­ç½®ç¾©å‹™ãŒã‚ã‚Šã¾ã™ï¼ˆ1å·ï¼‰ã€‚</li>
            </ul>
        </div>
    </div>
</div>

---

### å®Ÿè£…æ‰‹é †

ä»¥ä¸‹ã®3ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¾ã™ã€‚

#### 1. `hantei.js` ã®ä¿®æ­£

ã¾ãšã€ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆå´ã‚’ä¿®æ­£ã—ã¾ã™ã€‚UIã«ä¾å­˜ã—ãŸç®‡æ¡æ›¸ãã®ã€Œãƒ»ã€ã‚’å‰Šé™¤ã—ã€å·æ•°ã‚’ã‚¿ã‚°è¡¨ç¤ºã—ã‚„ã™ã„ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢ã—ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«:** `hantei.js`
**é–¢æ•°:** `generateResultDescription`

```javascript
/**
 * åˆ¤å®šçµæœã‚’æ§‹é€ åŒ–ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ç”Ÿæˆã™ã‚‹é–¢æ•°
 * @param {object} åˆ¤å®šçµæœ_ä»¤21 - ä»¤ç¬¬21æ¡ã®åˆ¤å®šçµæœ
 * @param {object} ç‰¹å°åˆ¤å®šçµæœ - ç‰¹å°è‡ªç«å ±ã®åˆ¤å®šçµæœ
 * @param {object} å»ºç‰©æƒ…å ± - å»ºç‰©æƒ…å ±
 * @returns {object} æ§‹é€ åŒ–ã•ã‚ŒãŸåˆ¤å®šçµæœèª¬æ˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
 */
function generateResultDescription(åˆ¤å®šçµæœ_ä»¤21, ç‰¹å°åˆ¤å®šçµæœ, å»ºç‰©æƒ…å ±) {
    const structuredResult = {
        rei21: null,
        tokusho: null
    };

    // --- STEP 1: ä»¤ç¬¬21æ¡ã®åˆ¤å®šçµæœã‚’æ§‹é€ åŒ– ---
    if (åˆ¤å®šçµæœ_ä»¤21.æ ¹æ‹ ãƒªã‚¹ãƒˆ.length > 0) {
        // ... (scopeDetails ã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã¯å¤‰æ›´ãªã—)

        structuredResult.rei21 = {
            hasObligation: true,
            legalBasis: {
                title: "æ³•çš„æ ¹æ‹ ",
                description: `ã“ã®å»ºç‰©ã¯æ¶ˆé˜²æ³•æ–½è¡Œä»¤ç¬¬21æ¡ã«ã‚ˆã‚Šè‡ªå‹•ç«ç½å ±çŸ¥è¨­å‚™ã®è¨­ç½®ç¾©å‹™ãŒã‚ã‚Šã¾ã™ã€‚`,
                // â–¼â–¼â–¼ å¤‰æ›´ç‚¹: å·æ•°ã‚’é…åˆ—ã¨ã—ã¦åˆ†é›¢ â–¼â–¼â–¼
                applicableLaws: åˆ¤å®šçµæœ_ä»¤21.æ ¹æ‹ ãƒªã‚¹ãƒˆ 
            },
            // ... (scope, specialNote ã¯å¤‰æ›´ãªã—)
        };
    } else {
        // ... (å¤‰æ›´ãªã—)
    }

    // ... (ç‰¹å°åˆ¤å®šçµæœã®æ§‹é€ åŒ–ã¯å¤‰æ›´ãªã—)

    return structuredResult;
}
```
*(æ³¨: `generateResultDescription`é–¢æ•°å†…ã®ä»–ã®éƒ¨åˆ†ã¯å¤‰æ›´ãŒãªã„ãŸã‚çœç•¥ã—ã¾ã—ãŸã€‚`legalBasis`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ã®ã¿ä¸Šè¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚)*

#### 2. `ui.js` ã®ä¿®æ­£

æ¬¡ã«ã€UIæ§‹ç¯‰ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ã—ã€æ–°ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«å¯¾å¿œã•ã›ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«:** `ui.js`
**é–¢æ•°:** `displayResult`, `createResultBlock`

```javascript
/**
 * åˆ¤å®šçµæœã‚’è¡¨ç¤º
 */
function displayResult(åˆ¤å®šçµæœ_ä»¤21, ç‰¹å°åˆ¤å®šçµæœ, å»ºç‰©æƒ…å ±) {
    // ... (å‰åŠéƒ¨åˆ†ã¯å¤‰æ›´ãªã—) ...

    if (rei21Result.hasObligation) {
        // â–¼â–¼â–¼ æ³•çš„æ ¹æ‹ ãƒ–ãƒ­ãƒƒã‚¯ã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ â–¼â–¼â–¼
        const legalBasisBlock = createResultBlock(
            rei21Result.legalBasis.title, 
            rei21Result.legalBasis.description,
            'gavel' // ã‚¢ã‚¤ã‚³ãƒ³åã‚’æ¸¡ã™
        );

        // å·æ•°ã‚¿ã‚°ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆ
        const tagsContainer = document.createElement('div');
        tagsContainer.className = 'legal-tags-container';
        rei21Result.legalBasis.applicableLaws.forEach(law => {
            const tag = document.createElement('span');
            tag.className = 'legal-number-tag';
            tag.textContent = law;
            tagsContainer.appendChild(tag);
        });
        legalBasisBlock.appendChild(tagsContainer);
        rei21DetailsContainer.appendChild(legalBasisBlock);
        // â–²â–²â–² æ³•çš„æ ¹æ‹ ãƒ–ãƒ­ãƒƒã‚¯ã®ä¿®æ­£ã“ã“ã¾ã§ â–²â–²â–²


        // â–¼â–¼â–¼ è¨­ç½®ç¯„å›²ãƒ–ãƒ­ãƒƒã‚¯ã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ â–¼â–¼â–¼
        const scopeBlock = createResultBlock(
            rei21Result.scope.title, 
            null, // èª¬æ˜æ–‡ã¯ä¸è¦
            'layers' // ã‚¢ã‚¤ã‚³ãƒ³åã‚’æ¸¡ã™
        );
        
        // ã‚µãƒãƒªãƒ¼ã‚¿ã‚° (å¤‰æ›´ãªã—)
        const summaryTag = document.createElement('div');
        summaryTag.className = 'result-summary-tag';
        summaryTag.classList.add(rei21Result.scope.type === 'whole' ? 'result-summary-tag--whole' : 'result-summary-tag--partial');
        summaryTag.innerHTML = `
            <span class="material-icons">${rei21Result.scope.type === 'whole' ? 'business' : 'splitscreen'}</span>
            ${rei21Result.scope.type === 'whole' ? 'å»ºç‰©å…¨ä½“' : 'ä¸€éƒ¨åˆ†ã®ã¿'}
        `;
        // ã‚¿ã‚¤ãƒˆãƒ«ã®å¾Œã«ã‚¿ã‚°ã‚’è¿½åŠ 
        scopeBlock.querySelector('.result-block-title').insertAdjacentElement('afterend', summaryTag);

        // è¨­ç½®ç¯„å›²ã®è©³ç´°ãƒªã‚¹ãƒˆ (å¤‰æ›´ãªã—)
        if (rei21Result.scope.details.length > 0) {
            const list = document.createElement('ul');
            list.className = 'result-block-list';
            rei21Result.scope.details.forEach(text => {
                const li = document.createElement('li');
                li.textContent = text;
                list.appendChild(li);
            });
            scopeBlock.appendChild(list);
        }
        rei21DetailsContainer.appendChild(scopeBlock);
        // â–²â–²â–² è¨­ç½®ç¯„å›²ãƒ–ãƒ­ãƒƒã‚¯ã®ä¿®æ­£ã“ã“ã¾ã§ â–²â–²â–²

        // è£œè¶³äº‹é …ãƒ–ãƒ­ãƒƒã‚¯ (å¤‰æ›´ãªã—)
        // ...
    } 
    // ... (ä»¥é™ã¯å¤‰æ›´ãªã—) ...
}


/**
 * çµæœè¡¨ç¤ºç”¨ã®æ±ç”¨ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç”Ÿæˆ
 */
function createResultBlock(title, description, iconName = null) {
    const block = document.createElement('div');
    block.className = 'result-block';
    
    // â–¼â–¼â–¼ ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤ºã«å¯¾å¿œ â–¼â–¼â–¼
    const iconHtml = iconName ? `<span class="material-icons">${iconName}</span>` : '';
    block.innerHTML = `<h4 class="result-block-title">${iconHtml}${title}</h4>`;

    if (description) {
        const content = document.createElement('p');
        content.className = 'result-block-content';
        content.innerHTML = description.replace(/\n/g, '<br>');
        block.appendChild(content);
    }
    
    return block;
}
```

#### 3. `styles.css` ã®ä¿®æ­£

æœ€å¾Œã«ã€æ–°ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’é©ç”¨ã™ã‚‹ãŸã‚ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’`styles.css`ã«è¿½åŠ ãƒ»ä¿®æ­£ã—ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«:** `styles.css`

```css
/* ========================
   æ§‹é€ åŒ–ã•ã‚ŒãŸçµæœè¡¨ç¤º (ä¿®æ­£)
   ======================== */
.result-details {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md); /* ãƒ–ãƒ­ãƒƒã‚¯é–“ã®ä½™ç™½ã‚’èª¿æ•´ */
    white-space: normal;
}

/* â–¼â–¼â–¼ ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´ â–¼â–¼â–¼ */
.result-block {
    background-color: rgba(255, 255, 255, 0.7);
    border-radius: var(--radius-lg);
    padding: var(--spacing-md);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.result-block-title {
    font-size: var(--md-sys-typescale-label-large-size);
    font-weight: 500;
    color: var(--neutral-700);
    margin: 0 0 var(--spacing-sm) 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}
.result-block-title .material-icons {
    font-size: 20px;
}

.result-block-content {
    margin: 0;
    line-height: 1.6;
    color: var(--neutral-800);
}

/* â–¼â–¼â–¼ è¨­ç½®ç¯„å›²ã‚¿ã‚°ã®ä½™ç™½ã‚’èª¿æ•´ â–¼â–¼â–¼ */
.result-summary-tag {
    margin-top: 0;
    margin-bottom: var(--spacing-sm);
}

.result-block-list {
    margin: var(--spacing-sm) 0 0 0;
    padding-left: 20px;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
}

/* ... (ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯å¤‰æ›´ãªã—) ... */

/* â–¼â–¼â–¼ æ–°è¦è¿½åŠ : å·æ•°ã‚¿ã‚° â–¼â–¼â–¼ */
.legal-tags-container {
    margin-top: var(--spacing-sm);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.legal-number-tag {
    background-color: var(--primary-100);
    color: var(--primary-800);
    padding: 2px 10px;
    border-radius: var(--radius-full);
    font-size: 13px;
    font-weight: 500;
    line-height: 1.5;
}
```

### ä¿®æ­£ã®ãƒã‚¤ãƒ³ãƒˆ

-   **ãƒ‡ãƒ¼ã‚¿ã¨è¡¨ç¤ºã®åˆ†é›¢**: `hantei.js`ã¯ç´”ç²‹ãªãƒ‡ãƒ¼ã‚¿ï¼ˆå·æ•°ã®é…åˆ—ï¼‰ã‚’è¿”ã—ã€`ui.js`ãŒãã‚Œã‚’å…ƒã«ã‚¿ã‚°ã‚’ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«è²¬å‹™ã‚’æ˜ç¢ºåŒ–ã—ã¾ã—ãŸã€‚
-   **ã‚¯ãƒªãƒ¼ãƒ³ãªãƒ‡ã‚¶ã‚¤ãƒ³**: `.result-block`ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã‚‰å¤ªã„æ ç·šã‚’å‰Šé™¤ã—ã€èƒŒæ™¯è‰²ã¨ç´°ã„å¢ƒç•Œç·šã§ä¸Šå“ã«æƒ…å ±ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¾ã—ãŸã€‚
-   **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæŒ‡å‘**: `createResultBlock`é–¢æ•°ã‚’æ‹¡å¼µã—ã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¼•æ•°ã§æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ãŸã“ã¨ã§ã€å†åˆ©ç”¨æ€§ãŒå‘ä¸Šã—ã¾ã—ãŸã€‚
-   **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ­£ç¢ºæ€§**: `insertAdjacentElement`ã‚’ä½¿ã£ã¦ã€ã‚µãƒãƒªãƒ¼ã‚¿ã‚°ã‚’ã‚¿ã‚¤ãƒˆãƒ«ã®ç›´å¾Œã«æ­£ç¢ºã«é…ç½®ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚